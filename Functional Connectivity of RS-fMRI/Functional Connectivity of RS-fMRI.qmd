---
title: "Functional Connectivity of RS-fMRI"
author: "ROI BOLD 시간 신호로부터 correlation matrix 계산 및 시각화"
format: html
editor: visual
---

```{r}
set.seed(42)
n_time <- 100
n_roi <- 5
time_series <- matrix(rnorm(n_time * n_roi), n_time, n_roi)
time_series[,2] <- 0.7 * time_series[,1] + rnorm(n_time, 0, 0.5)  # 연결성 추가하기기

corr_matrix <- cor(time_series)
diag(corr_matrix) <- 0  # 자기상관 제거하는 것것

# 시각화하는 방법!
image(1:n_roi, 1:n_roi, corr_matrix, zlim=c(-1,1), col=rev(heat.colors(101)),
      xlab="ROI", ylab="ROI", main="RS-fMRI Correlation Matrix")
```
